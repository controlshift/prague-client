(function(){describe("Form validations",function(){return it("should return true for any basic input",function(){return expect($.DonationsInit().validField("fds")).toBeTruthy()}),it("should return true for a valid email",function(){return expect($.DonationsInit().validField("a@b.com","email")).toEqual(!0)}),it("should return false for a valid email",function(){return expect($.DonationsInit().validField("ab.com","email")).toEqual("Invalid email format.")}),it("should accept a valid cvc",function(){return expect($.DonationsInit().validField("432","cvc")).toEqual(!0)}),it("should reject an invalid cvc",function(){return expect($.DonationsInit().validField("432a","cvc")).toEqual("Invalid CVC.")}),it("should accept a valid credit card #",function(){return expect($.DonationsInit().validField("4242 4242 4242 4242","cc-num")).toEqual(!0)}),it("should reject an invalid credit card #",function(){return expect($.DonationsInit().validField("blahblah","cc-num")).toEqual("Invalid card format.")}),it("should accept a valid credit card #",function(){return expect($.DonationsInit().validField("4242 4242 4242 4242","cc-num")).toEqual(!0)}),it("should accept a valid date if given a year",function(){return spyOn($.fn,"val").and.returnValue("02"),expect($.DonationsInit().validField(""+((new Date).getFullYear()+1),"year")).toEqual(!0)}),it("should accept a valid date if given a month",function(){return spyOn($.fn,"val").and.returnValue(""+((new Date).getFullYear()+1)),expect($.DonationsInit().validField("02","month")).toEqual(!0)}),it("should reject a date from a previous year",function(){return spyOn($.fn,"val").and.returnValue("02"),expect($.DonationsInit().validField(""+((new Date).getFullYear()-1),"year")).toEqual("Expiry must be in the future.")}),it("should return a message if something else goes wrong for the expiry date",function(){return spyOn($.fn,"val").and.returnValue("02a"),expect($.DonationsInit().validField(""+((new Date).getFullYear()+1),"year")).toEqual("Invalid expiry date.")})})}).call(this);